apply plugin: 'idea'
apply plugin: 'base'

idea{
    project {
        languageLevel = '1.8'
    }
    module {
        downloadJavadoc = true // defaults to false
        downloadSources = true
    }
}



subprojects {
    apply plugin: 'java'
    apply plugin: 'application'
    apply plugin: 'idea'


    compileJava {
        targetCompatibility= 1.8
        sourceCompatibility= 1.8
        options.fork = true

        //enable incremental compilation
        options.incremental = true
    }

    group 'ro.cosu.vampires'
    version '1.0-SNAPSHOT'

    repositories {
        mavenCentral()
    }

    dependencies {
        compile 'com.typesafe.akka:akka-actor_2.11:2.3.14'
        compile 'com.typesafe.akka:akka-remote_2.11:2.3.14'
        compile 'com.google.guava:guava:18.0'
        compile 'com.google.inject:guice:4.0'
        compile 'com.google.inject.extensions:guice-multibindings:4.0'



        testCompile 'junit:junit:4.12'
        testCompile 'com.typesafe.akka:akka-testkit_2.11:2.3.14'
    }
}

project(':client') {
    mainClassName = "ro.cosu.vampires.client.App"
    dependencies {
        compile 'org.apache.commons:commons-exec:1.3'
        compile project(':server')
    }
}

project(':server'){
    mainClassName = "ro.cosu.vampires.server.App"
}

