akka {
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  loglevel = "INFO"
  log-dead-letters-during-shutdown = off

  actor {
    provider = "akka.remote.RemoteActorRefProvider"
    warn-about-java-serializer-usage = off
  }

  remote {
    enabled-transports = ["akka.remote.netty.tcp"]
    netty.tcp {
      hostname = 127.0.0.1
      hostname = ${?HOST}
      bind-hostname=127.0.0.1
      bind-hostname=${?BIND_HOST}
      port = 2552
    }
  }
}

vampires {

  home = ${?HOME}"/vampires-akka-dist"

  enabled-writers = ["json"]
  executors = ["docker", "fork"]
  cpuSetSize = 1
  cpuSetSize = ${?CPU_SET_SIZE}

  jobDeadlineSeconds = 45

  workload {
    task = "sleep 5"
    start = 0
    stop = 5
  }


  resources {

    command = ${vampires.home}"/client-1.0-SNAPSHOT/bin/client "${akka.remote.netty.tcp.hostname}
    command = ${?VAMPIRES_CLIENT}

    local {
      local {}
    }

    ssh {
      user = ${USER}
      privateKey = ${?HOME}"/.ssh/id_rsa"
      local {
        address = "localhost"
      }
    }

    das5 {
      privateKey = ${?HOME}"/.ssh/id_rsa"
      command =  ${vampires.home}"/client-1.0-SNAPSHOT/scripts/vampires_das.sh "${akka.remote.netty.tcp.hostname}
      user = "cosmin"
      uva {
        address = fs2.das5.science.uva.nl
        privateKey = ${?HOME}"/.ssh/id_rsa"
      }
      local {
        address = "localhost"
        port = 2222
      }

    }

    ec2 {
      credentialsFile = ${?HOME}/".aws"
      command = "client-1.0-SNAPSHOT/scripts/vampires_ec2.sh "${akka.remote.netty.tcp.hostname}

      #imageId = "ami-47a23a30"
      imageId = "ami-7058e903"
      keyName = "cdumitru-amazon-europe"
      securityGroup = "vampires"
      eu.t2micro {
        instanceType = "t2.micro"
        region = "eu-west-1"
      }

      eu.t2medium{
        instanceType = "t2.medium"
        region = "eu-west-1"
      }

      eu.c4xlarge{
        instanceType = "c4.xlarge"
        region = "eu-west-1"
      }

      eu.c4large{
        instanceType = "c4.large"
        region = "eu-west-1"
      }
    }

  }

  writers {
    json {
        dir = ${?HOME}
    }
    mongo {
      host = localhost
      port = 27017
      user = vampires
      password = vampires
    }
  }
}
